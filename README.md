# Random Walks in Random Forests

Code related to the SDM20 submission

# Getting Started

In short, the entire thing runs on atomic terminal commands. These are generated semi-automatically, and a collection of them typically constitutes an experiment. These can then be quickly executed using GNU-parallel, a simple yet powerful tool for parallel execution.

## 1. Generate commands.

Go to `./note/command-generation` and open a notebook there. These notebook are used to generate commands to execute a particular experiment.

## 2 Execute script.

Open `./cli`. This directory contains the command line interfaces to run the experiments.

### 2.1 Local execution

To execute all terminal commands you just generated, simply do;

```bash
python cli.py -c <folder-name OR file-name> -l
```

- `c` flag indicates a config file **or** folder. This folder is expected to be found _inside_ the `./cli/cli-config/` folder.
- `l` flag indicates we want to execute *locally*

For instance, to execute the MERCS example, run;

```bash
python cli.py -c demo-config/md8-base-predict.csv
```


### 2.2 Remote execution

#### Remote setup

- install conda environment
- install pxs
- install mercs

#### Remote action

- ssh to **himec**
- open ./cli folder

```
h04
go aaai20 cli

```

TODO

### 2.3 HPC execution

TODO

## 3. Analyze Results

Open `./note/collect-results/190128 - collect results.ipynb`. In this notebook, you can collect all the results generated by the individual experiments and aggregate those for further visualization.

## 4. Visualisation.

We use Plotly and Dash to navigate through all our experimental outputs.

# Model Generation

This is a more in-depth discussion of how to generate models. In essence, it goes it much the same way as the toolbox normally operates.

The important thing to realize is the following: **generating a model is also just running a script**, and for running scripts we have a bunch of functionalities.

## 1. Configuration

Generate some config files to run those scripts. Go to `./note/config-generation` and find a notebook with `model-generation` in its filename. Those notebooks are used to generate the relevant configuration file.

## 2. Execute script

Open `./cli` and execute the script

### Local Execution

To execute all the _scripts_ as defined by the configurations in a folder `./cli/config/<folder-name>`, execute

```bash
python cli.py -c <folder-name> -l
```

- `c` flag indicates a config file **or** folder. This folder is expected to be found _inside_ the `./cli/config/` folder.
- `l` flag indicates we want to execute *locally*

This is really the exact same thing as you did before. All the differences are under the hood.

## 3. Check the trained models

Some new models should be found under `./resc/model/<dataset>`. Its here where trained models will appear.
